# 組合模式(Composite Pattern)
又稱為部分整體模式，把相似的一組對象當做一個對象處理，用一種樹狀的結構來組合對象，再提供統一的方法去訪問這些的對象，由於忽略掉對象與對象容器間的差別，使得用戶對單個對象和組合對象的使用具有一致性。

組合模定義了基本對象(Leaf)和組合對象(Composite)的類層次結構，基本對象可以被組合成更複雜的組合對象，而這些組合對象又可以被組合，讓客戶可以一致的使用，不須寫判斷語句來判斷是基本對象還是組合對象。

### 透明方式
Component中的add和remove方法對於基本對象(Leaf)是沒有意義的，但對外界而言由於基本對象和組合對象的接口都一樣，所以沒有區別。

### 安全方式
如果在Component中不去聲明add和remove方法，那麼基本對象(Leaf)也就不需要去實現它，而是在組合對象(Composite)中來聲明所有管理子類對象的方法。不過由於基本對象和組合對象的接口不同，客戶端調用時必須作相對應的判斷，帶來了不便。

## 組成
1. 元素(Component)：組合中對象的接口聲明，定義成介面或者抽象類，在適當情況下實現所有類共有的默認行為，聲明一個接口用於訪問和管理Component的子組件，是元素與部分整體的父類。
2. 基本對象/葉節點(Leaf)：定義了基本元素的特征，繼承自Component父類，葉節點沒有子節點，是整體最基本的組成部分，定義對象的基本行為。
3. 組合對象/有枝節點(Composite)：定義有枝節點行為，用來存儲子部件，在Component接口中實現與子部件有關操作，如增加(add)和刪除(remove)等。

## 範例
公司管理系統。

## 參考
- [[Design Pattern]組合模式(Composite pattern) | RiCo技術農場 - 點部落](https://dotblogs.com.tw/ricochen/2012/08/08/73906)
- [如何讓孩子愛上設計模式 ——9.組合模式(Composite Pattern) - IT閱讀](https://www.itread01.com/articles/1485506384.html)
- [PHP設計模式（十）—組合模式（Composite Pattern）_慕課手記](https://www.imooc.com/article/17305)

## Run
```
php index.php
```

